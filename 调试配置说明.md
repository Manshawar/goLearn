# VSCode 无法自动创建 launch.json 的原因和解决方案

## 为什么 VSCode 不会自动创建 launch.json？

### 常见原因：

1. **Go 扩展未安装或未启用**
   - VSCode 需要安装 "Go" 扩展（由 Go Team at Google 提供）
   - 检查：扩展面板搜索 "Go"，确认已安装并启用

2. **工作区没有 .vscode 目录**
   - VSCode 需要在工作区根目录有 `.vscode` 文件夹
   - 当前项目：`.vscode` 目录不存在

3. **权限问题**
   - 某些情况下，VSCode 可能没有写入权限创建 `.vscode` 目录

4. **Go 调试器 (Delve) 未安装**
   - Go 调试需要安装 Delve (`dlv`)
   - 检查：在终端运行 `dlv version`

## 解决方案

### 方法 1：手动创建 launch.json（推荐）

1. **创建 .vscode 目录**（如果不存在）：
   ```bash
   mkdir -p .vscode
   ```

2. **创建 launch.json 文件**：
   在 `.vscode/launch.json` 中写入以下内容：

```json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Launch: tree/main.go",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/struct/tree",
            "env": {},
            "args": [],
            "showLog": true
        },
        {
            "name": "Launch: Current File",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${file}",
            "env": {},
            "args": [],
            "showLog": true
        }
    ]
}
```

### 方法 2：使用 VSCode 命令面板

1. 按 `Cmd+Shift+P` (Mac) 或 `Ctrl+Shift+P` (Windows/Linux)
2. 输入 "Debug: Add Configuration"
3. 选择 "Go: Launch Package" 或 "Go: Launch File"
4. VSCode 会自动创建 `.vscode/launch.json`

### 方法 3：检查并安装必要工具

1. **安装 Go 扩展**：
   - 打开扩展面板 (`Cmd+Shift+X`)
   - 搜索 "Go" 并安装官方扩展

2. **安装 Delve 调试器**：
   ```bash
   go install github.com/go-delve/delve/cmd/dlv@latest
   ```

3. **验证安装**：
   ```bash
   dlv version
   ```

## 快速检查清单

- [ ] Go 扩展已安装并启用
- [ ] Delve (`dlv`) 已安装
- [ ] `.vscode` 目录存在
- [ ] `launch.json` 文件存在且配置正确
- [ ] 工作区已正确打开（不是单个文件）

## 如果仍然无法创建

1. **检查 VSCode 输出面板**：
   - 查看是否有错误信息
   - `View` → `Output` → 选择 "Go" 或 "Debug Console"

2. **重启 VSCode**：
   - 完全关闭并重新打开 VSCode

3. **检查工作区设置**：
   - 确保打开的是文件夹，不是单个文件
   - `File` → `Open Folder` → 选择项目根目录



